/* Code initially by tam710562 at https://forum.vivaldi.net/topic/34672/auto-hide-bookmark-bar/5 , updated for Vivaldi 3.0 which renamed UI CSS classes */

/* Auto hide bookmark bar */
#browser:not(.color-behind-tabs-off) .toolbar-addressbar {
    background: inherit;
}

#browser.tabs-top.address-top.bookmark-bar-top .toolbar-addressbar,
#browser.tabs-top.address-bottom.bookmark-bar-bottom .toolbar-addressbar,
#browser.tabs-top.address-bottom.bookmark-bar-top .toolbar-addressbar,
#browser.tabs-bottom.address-top.bookmark-bar-top .toolbar-addressbar,
#browser.tabs-bottom.address-bottom.bookmark-bar-bottom .toolbar-addressbar {
    z-index: 2;
}

#browser.tabs-top.address-top.bookmark-bar-top .bookmark-bar,
#browser.tabs-top.address-bottom.bookmark-bar-bottom .bookmark-bar,
#browser.tabs-top.address-bottom.bookmark-bar-top .bookmark-bar,
#browser.tabs-bottom.address-top.bookmark-bar-top .bookmark-bar,
#browser.tabs-bottom.address-bottom.bookmark-bar-bottom .bookmark-bar {
    position: absolute !important;
    width: 100%;
    transition: transform 0.2s !important;
    z-index: 1;
}

/* tabs-top address-top bookmark-bar-top */
#browser.tabs-top.address-top.bookmark-bar-top .bookmark-bar {
    top: 34px;
    transform: translateY(-100%);
}

#browser.tabs-top.address-top.bookmark-bar-top .bookmark-bar:hover,
#browser.tabs-top.address-top.bookmark-bar-top .toolbar-addressbar:hover ~ .bookmark-bar,
#browser.tabs-top.address-top.bookmark-bar-top #header:hover ~ #main .bookmark-bar {
    transform: translateY(0);
}

/* tabs-top address-bottom bookmark-bar-bottom */
#browser.tabs-top.address-bottom.bookmark-bar-bottom .bookmark-bar {
    bottom: 34px;
    transform: translateY(100%);
}

#browser.tabs-top.address-bottom.bookmark-bar-bottom .bookmark-bar:hover,
#browser.tabs-top.address-bottom.bookmark-bar-bottom .toolbar-addressbar:hover ~ .bookmark-bar {
    transform: translateY(0);
}

/* tabs-top address-bottom bookmark-bar-top */
#browser.tabs-top.address-bottom.bookmark-bar-top .bookmark-bar {
    top: 0;
    transform: translateY(-100%);
}

#browser.tabs-top.address-bottom.bookmark-bar-top .bookmark-bar:hover,
#browser.tabs-top.address-bottom.bookmark-bar-top #header:hover ~ #main .bookmark-bar {
    transform: translateY(0);
}

/* tabs-bottom address-top bookmark-bar-top */
#browser.tabs-bottom.address-top.bookmark-bar-top .bookmark-bar {
    top: 34px;
    transform: translateY(-100%);
}

#browser.tabs-bottom.address-top.bookmark-bar-top .bookmark-bar:hover,
#browser.tabs-bottom.address-top.bookmark-bar-top .toolbar-addressbar:hover ~ .bookmark-bar {
    transform: translateY(0);
}

/* tabs-bottom address-bottom bookmark-bar-bottom */
#browser.tabs-bottom.address-bottom.bookmark-bar-bottom .bookmark-bar {
    bottom: 64px;
    transform: translateY(100%);
}

#browser.tabs-bottom.address-bottom.bookmark-bar-bottom.stacks-on:not(.tabs-at-edge) .bookmark-bar {
    bottom: calc(64px + var(--padding));
    transform: translateY(100%);
}

#browser.tabs-bottom.address-bottom.bookmark-bar-bottom .bookmark-bar:hover,
#browser.tabs-bottom.address-bottom.bookmark-bar-bottom .toolbar-addressbar:hover ~ .bookmark-bar {
    transform: translateY(0);
}

.webpanel-header {
    z-index: 0;
}
